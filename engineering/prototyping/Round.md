Раунд
=====

Весь раунд можно условно разбить на несколько этапов, описанных ниже.
После подготовительного этапа игроки по очереди совершают выстрел,
пока все корабли у одного из игроков не будут потоплены.

Начало раунда
-------------

Когда начинается новый раунд, в рабочей области пользователь видит два поля:
поле доступных кораблей (слева) и поле, на которое он должен расставить эти корабли (справа).

Корабли на левом поле расставляются случайным образом согласно правилам расстановки кораблей.
У пользователя есть возможность воспользоваться этим размещением,
и заполнить правое поле точно таким же образом, нажав на кнопку продвижения `►`.
После нажатия на эту кнопку все корабли займут позиции, и следующий этап (Расстановка кораблей) будет пропущен. 

![Скетч: Начало раунда](img/round_1.png)

Расстановка кораблей
--------------------

Пользователь выбирает корабль на левом поле и отмечает сектор,
которые этот корабль займет на правом поле. При этом он не может выбрать сектор,
который по правилам игры не может быть занят кораблем:
сектор не является соседним к уже выбранным, или сектор попадает в зону влияния другого корабля.

Когда пользователь выбрал сектор, у него есть возможность отменить указанный сектор. 

Когда количество секторов достаточно для выбранного корабля,
корабль перемещается из левого в правое поле и переставить его невозможно.

![Скетч: Расстановка кораблей](img/round_2.png)

Начало боя
----------

Когда пользователь разместил все доступные ему корабли,
левое поле сдвигается влево и исчезает из области видимости, правое поле занимает место левого,
а на место правого поля приходит третье поле, которое представляет собой область противника.
Все секторы в этом поле скрыты от пользователя "пеленой тумана".

![Скетч: Начало раунда](img/round_3.png)

Бой
---

Пользователь выбирает сектор из правого поля,
по которому хочет произвести выстрел, при этом он не может выбрать сектор,
выстрел по которому уже производился или в ходе сражения уже было выяснено,
что в этом секторе не может стоять корабль, так как он попадает под область влияния другого корабля.

* Если результат попадания промах - сектор перекрашивается в цвет моря.
* Если результат попадания ранение - сектор окрашивается в цвет огня.
* Если результат попадания гибель корабля - вместо секторов обозначенных огнем рисуется корабль,
а так же вычисляются секторы попадающие под область влияния этого корабля - все эти секторы окрашиваются в цвет моря.

![Скетч: Бой](img/round_4.png)

Конец боя
---------

Когда все корабли одного из игроков потоплены, раунд считается оконченным.
Вся область стражения сдвигается вниз, пока не исчезнет из вида.
Вместо этого пользователю отображается сообщение об окончании раунда.
При этом в рабочей области пояляются управляющие элементы:

* В левой части рабочей области есть кнопка в виде стрелки направленной в лево `◄`,
если навести на нее мышь высветится подсказка "Вернуться к меню". При нажатии на нее,
сообщение съезжает вправо, а вместо него пояляется меню. 
* В нижней части рабочей области есть кнопка в виде стрелки вниз `▼`,
если навести на нее мышь высветится подсказка "Рассмотреть поле сражения". При нажатии на нее,
сообщение съезжает вверх, и вместо него снова пояляется поле на котором только, что было сражение.
Чтобы можно было изучить его подробнее.

В зависимости от того кто победил отображается разное сообщение.

* В случае если победил игрок, отображается сообщение с поздравлением о его победе, количеством ходов,
которые потребовались ему для победы и процентным соотношением попаданий к проигрышам. Например:
> Капитан Воробей, мы победили! Просто невероятно как вы умудрились победить капитана Норингтона всего за 48 выстрелов,
2 из пяти выстрелов в цель. Правду о Вас говорят.

* В случае если победил оппонент, пользователю отображается сообщение о том, что игра окончена и он побежден. Например: 
> Капитан Воробей, флот разбит, боюсь капитан Норингтон оказался не так прост как кажется. 
Возможно нам стоит изучить поле сражения, чтобы подумать о том, как победить его в следующий раз.

![Скетч: Конец боя](img/round_5.png)
